<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>MyFlix</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #141414;
    color: white;
}

header {
    background: #000;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header h1 {
    color: #e50914;
    margin: 0;
}

button {
    background: #e50914;
    border: none;
    color: white;
    padding: 8px 14px;
    cursor: pointer;
    border-radius: 4px;
}

section {
    padding: 20px;
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 15px;
}

.card {
    background: #222;
    padding: 10px;
    border-radius: 6px;
}

.card h4 {
    margin: 5px 0;
}

.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.8);
    display: none;
    justify-content: center;
    align-items: center;
}

.modal-content {
    background: #181818;
    padding: 20px;
    width: 300px;
    border-radius: 6px;
}

.modal-content input, select {
    width: 100%;
    margin-bottom: 10px;
    padding: 6px;
}
</style>
</head>

<body>

<header>
    <h1>MyFlix</h1>
    <button onclick="openModal()">+ Agregar</button>
</header>

<section>
    <h2>Películas</h2>
    <div class="grid" id="movies"></div>
</section>

<section>
    <h2>Series</h2>
    <div class="grid" id="series"></div>
</section>

<div class="modal" id="modal">
    <div class="modal-content">
        <h3>Agregar contenido</h3>
        <input id="title" placeholder="Título">
        <select id="type">
            <option value="movie">Película</option>
            <option value="series">Serie</option>
        </select>
        <input id="seasons" placeholder="Temporadas (solo series)">
        <button onclick="addContent()">Guardar</button>
        <button onclick="closeModal()">Cancelar</button>
    </div>
</div>

<script>
let data = JSON.parse(localStorage.getItem("myflix")) || {
    movies: [],
    series: []
};

function render() {
    document.getElementById("movies").innerHTML = "";
    document.getElementById("series").innerHTML = "";

    data.movies.forEach(m => {
        document.getElementById("movies").innerHTML += `
            <div class="card">
                <h4>${m.title}</h4>
            </div>`;
    });

    data.series.forEach(s => {
        document.getElementById("series").innerHTML += `
            <div class="card">
                <h4>${s.title}</h4>
                <small>${s.seasons} temporadas</small>
            </div>`;
    });

    localStorage.setItem("myflix", JSON.stringify(data));
}

function openModal() {
    document.getElementById("modal").style.display = "flex";
}

function closeModal() {
    document.getElementById("modal").style.display = "none";
}

function addContent() {
    const title = document.getElementById("title").value;
    const type = document.getElementById("type").value;
    const seasons = document.getElementById("seasons").value;

    if (!title) return;

    if (type === "movie") {
        data.movies.push({ title });
    } else {
        data.series.push({ title, seasons: seasons || 1 });
    }

    closeModal();
    render();
}

render();
</script>

</body>
</html>
